<?php

/**
 * Skeleton subclass for representing a row from the 'administradores' table.
 *
 * 
 *
 * This class was autogenerated by Propel sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0.4.2 on:
 *
 * 09/29/sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0 23:43:32
 *
 * You should add additional methods to this class to meet the
 * application requirements.  This class will only be generated as
 * long as it does not already exist in the output directory.
 *
 * @package    lib.model
 */
class Administradores extends BaseAdministradores {

    public function postInsert(PropelPDO $con = null) {
        if (sfConfig::get('sf_environment') != "cli") {
            $auditoria = new Auditorias();
            //sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0
            $auditoria->setAdministradoresId(sfContext::getInstance()->getUser()->getAttribute('usuarioId'));
            $auditoria->setObjeto('Administradores');
            $auditoria->setDescripcion(' Nombre : ' . $this->getNombre() . ' Apellido : ' . $this->getApellido() . ' Usuario: ' . $this->getUsuario());
            $auditoria->setTipooperacion('Alta de administrador');
            $auditoria->save();
        }
    }

    public function postUpdate(PropelPDO $con = null) {
        if (sfConfig::get('sf_environment') != "cli") {
            $auditoria = new Auditorias();
            //sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0
            $auditoria->setAdministradoresId(sfContext::getInstance()->getUser()->getAttribute('usuarioId'));
            $auditoria->setObjeto('Administradores');
            $auditoria->setDescripcion(' Nombre : ' . $this->getNombre() . ' Apellido : ' . $this->getApellido() . ' Usuario: ' . $this->getUsuario());
            $auditoria->setTipooperacion('ModificaciÃ³n de administrador');
            $auditoria->save();
        }
    }

    public function postDelete(PropelPDO $con = null) {
        if (sfConfig::get('sf_environment') != "cli") {
            $auditoria = new Auditorias();
            //sfContext::hasInstance() ? sfContext::getInstance()->getUser()->getAttribute('usuarioId') : 0
            $auditoria->setAdministradoresId(sfContext::getInstance()->getUser()->getAttribute('usuarioId'));
            $auditoria->setObjeto('Administradores');
            $auditoria->setDescripcion(' Nombre : ' . $this->getNombre() . ' Apellido : ' . $this->getApellido() . ' Usuario: ' . $this->getUsuario());
            $auditoria->setTipooperacion('EliminaciÃ³n de administrador');
            $auditoria->save();
        }
    }

}

// Administradores